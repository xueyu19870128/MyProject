@{ Layout = "../Shared/_LayoutLayer.cshtml"; }

<div v-if="!isUploadOnly" class="form-group">
  <label class="control-label">
    专题名称
    <small v-show="errors.has('title')" class="text-danger">{{ errors.first('title') }}</small>
  </label>
  <input v-model="title" name="title" data-vv-as="专题名称" v-validate="'required'" :class="{'is-invalid': errors.has('title') }" type="text" class="form-control" />
</div>

<div v-if="!isUploadOnly" class="form-group">
  <label class="control-label">
    访问地址
    <small v-show="errors.has('url')" class="text-danger">{{ errors.first('url') }}</small>
  </label>
  <input v-model="url" name="url" data-vv-as="访问地址" v-validate="'required'" :class="{'is-invalid': errors.has('url') }" type="text" class="form-control" />
</div>

<div v-if="!isEditOnly" class="form-group">
  <label class="control-label">
    专题文件
  </label>

  <div v-if="uploading" id="drop-area" style="height: 100px;line-height: 20px; text-align: center;font-size: 18px;color: rgb(119, 119, 119);border: 2px dashed rgba(0, 0, 0, 0.3);background: rgb(238, 238, 238);border-radius: 6px;cursor: pointer;margin-bottom: 20px;">
    <img class="mt-3" src="../assets/images/loading.gif" />
    <br />
    文件上传中，请稍后...
  </div>
  <div v-else id="drop-area" style="height: 100px; padding-top: 20px; text-align: center; font-size: 18px; color: #777; border: 2px dashed #0000004d; background: #eee;	border-radius: 6px; cursor: pointer; margin-bottom: 20px">
    点击批量上传文件或者将文件拖拽到此区域<br />
    <small class="help-block">请选择以专题需要包含的文件或者包含专题压缩包。</small>
  </div>

  <div class="row">
    <div class="col-sm-4 col-lg-3 col-xs-12" v-for="(file, index) in files">
      <div class="card m-b-20">
        <div class="card-body">
          <p class="card-text">
            {{ file.fileName }}
          </p>
          <a v-on:click="del(file)" href="javascript:;" class="card-link text-danger">删 除</a>
        </div>
      </div>
    </div>
  </div>

</div>

<hr />

<div class="text-right mr-1">
  <button type="button" v-on:click="btnSubmitClick" class="btn btn-primary m-l-5">确 定</button>
  <button type="button" v-on:click="btnCancelClick" class="btn btn-default m-l-5">取 消</button>
</div>

@section Scripts{
<script type="text/javascript" src="../assets/js/web-uploader/js/Q.js"></script>
<script type="text/javascript" src="../assets/js/web-uploader/js/Q.Uploader.js"></script>
<script src="specialAddLayer.js" type="text/javascript"></script> }